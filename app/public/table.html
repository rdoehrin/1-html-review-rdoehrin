<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <Link href = "css/styles.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://unpkg.com/vue@next"></script>

  <header>
      <img src="img/house.png" alt="Cartoon House" width="100" onclick="window.open(this.src)">Welcome to my life!<img src="img/House.png" alt="Cartoon House" width="100" onclick="window.open(this.src)">
  </header>
  
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">Home</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link active" aria-current="page" href="index.html">My Profile</a>
          <a class="nav-link" href="table.html">My Favorite Books</a>
          <a class="nav-link" href="thirdpage.html">My Travel</a>
        </div>
      </div>
    </div>
  </nav>
  <title>My Favorite Books</title>

  <main>
    <h1>My Favorite Books</h1><br>
    
  </head>
<div id="recordApp">
  <body>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Title</th>
          <th scope="col">Author</th>
          <th scope="col">Year Published</th>
          <th scope="col">Publisher</th>
          <th scope="col">Page Count</th>
          <th scope="col">MSRP</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="r in records">
          <td>{{ r.title }}</td>
          <td>{{ r.author }}</td>
          <td>{{ r.year_published }}</td>
          <td>{{ r.publisher }}</td>
          <td>{{ r.page_count }}</td>
          <td>{{ r.msrp }}</td>
          <td></td>
          <td>
            <button type="button" 
              class="btn btn-outline-secondary btn-sm"
              v-on:click="selectBookToEdit(r)">Edit</button>
            <button type="button" class="btn btn-outline-secondary btn-sm"
              v-on:click="postDeleteBook(r)">Delete</button>
          </td>
      </tr>
      </tbody>
    </table>

    <h3>{{ selectedBook === null ? "Add " : "Edit " }} Book</h3>
    <form v-on:submit.prevent="postBook">
      <div class="mb-3">
        <label for="title" class ="form-label">Book Title<span class="reqd">*</span></label>
        <input type="text" v-model="bookForm.title" class="form-control" id="title" required="required">
      </div>
      <div class="mb-3">
        <label for="author" class ="form-label">Author<span class="reqd">*</span></label>
        <input type="text" v-model="bookForm.author" class="form-control" id="author" required="required">
      </div>
      <div class="mb-3">
        <label for="year_published" class ="form-label">Year Published<span class="reqd">*</span></label>
        <input type="number" v-model="bookForm.year_published" class="form-control" id="year_published" required="required">
      </div>
      <div class="mb-3">
        <label for="publisher" class ="form-label">Publisher<span class="reqd">*</span></label>
        <input type="text" v-model="bookForm.publisher" class="form-control" id="publisher" required="required">
      </div>
      <div class="mb-3">
        <label for="page_count" class ="form-label">Page Count<span class="reqd">*</span></label>
        <input type="number" v-model="bookForm.page_count" class="form-control" id="page_count" required="required">
      </div>
      <div class="mb-3">
        <label for="msrp" class ="form-label">MSRP<span class="reqd">*</span></label>
        <input type="number" v-model="bookForm.msrp" class="form-control" id="msrp" required="required">
      </div>
      <br>
      <button type="submit" value="submit" class="btn btn-primary">{{ selectedBook === null ? "Add " : "Edit " }} Book</button>
      <button type="button" class="btn btn-outline-secondary" v-if="selectedBook" v-on:click="resetBookForm">Cancel</button>
    </form>
    
  </div> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
  
    
    <script src="js/table.js"></script>

    
  </body>
</html>
